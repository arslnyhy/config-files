#!/bin/bash

echo "Stopping all Docker Compose projects..."

# Find all running Docker Compose containers
compose_containers=$(docker ps --filter "label=com.docker.compose.project" --format "{{.Names}}")

if [ -z "$compose_containers" ]; then
  echo "No Docker Compose containers are running."
else
  # Stop and remove them
  echo "$compose_containers" | xargs docker stop
  echo "All Docker Compose containers stopped."
fi

# Optionally prune networks and volumes
# docker network prune -f
# docker volume prune -f
